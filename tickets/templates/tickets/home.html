
{% extends 'tickets/base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h1 class="text-3xl font-bold text-[#3A3A5A] mb-8">Ticket Dashboard</h1>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for ticket in tickets %}
    <div class="bg-white p-6 rounded-lg shadow-md border border-slate-200">
        <div class="flex justify-between items-start">
            <h2 class="text-xl font-bold text-[#3A3A5A]">{{ ticket.title }}</h2>
            <span class="text-sm font-bold text-white px-2 py-1 rounded-full 
                {% if ticket.priority == 'p1' %}bg-red-500
                {% elif ticket.priority == 'p2' %}bg-orange-500
                {% else %}bg-yellow-500{% endif %}">
                {{ ticket.get_priority_display }}
            </span>
        </div>
        <p class="text-sm text-slate-500 mt-1">{{ ticket.ticket_id }}</p>
        <p class="text-slate-600 my-4">{{ ticket.description|truncatewords:20 }}</p>
        <div class="border-t border-slate-200 pt-4 text-sm text-slate-500">
            <p><strong>Asset:</strong> {{ ticket.asset|default:'N/A' }}</p>
            <p><strong>Status:</strong> {{ ticket.get_status_display }}</p>
            <p><strong>Assigned To:</strong> {{ ticket.assigned_to|default:'Unassigned' }}</p>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
